<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Everpeak Nature Camp Booking</title>
    <link rel="stylesheet" href="booknow.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <nav>
        <ul>
            <a href="homepage.html">Home</a>
        </ul>
        <div class="logo">Everpeak Nature Camp</div>
    </nav>

    <div class="booking-container">
        <div id="step1" class="step active">
            <h2>Guest Information</h2>
            <input type="text" id="name" placeholder="Name" required>
            <input type="email" id="email" placeholder="Gmail" required>
            <input type="tel" id="number" placeholder="Number" required>
            <div id="numberError" class="error" aria-live="polite"></div>
            <button id="step1Confirm" class="accent-btn">Confirm</button>
        </div>

        <div id="step2" class="step">
            <h2>Select Your Stay</h2>
            
            <div id="summaryDisplay" class="summary-display">
                <div class="summary-item clickable">
                    <span class="icon">&#128100;</span>
                    <p>Guests</p>
                    <span id="guestCountDisplay">1 adult, 0 children</span>
                </div>
                <div class="summary-item">
                    <span class="icon">&#128197;</span>
                    <p>Check-in</p>
                    <span id="checkInDisplay">Select Date</span>
                </div>
                <div class="summary-item">
                    <span class="icon">&#128197;</span>
                    <p>Check-out</p>
                    <span id="checkOutDisplay">Select Date</span>
                </div>
            </div>
            <div class="calendar-controls wide-controls">
                <button onclick="prevMonths()">&#9664; Prev</button>
                <button onclick="nextMonths()">Next &#9654;</button>
            </div>

            <div class="calendars-container" id="calendarsContainer">
            </div>

            <div class="selection-group">
                <select id="stayType">
                    <option value="">Select Stay Type</option>
                    <option value="day">Day Tour (8:00AM - 5:00PM)</option>
                    <option value="night">Night Tour (5:00PM - 7:00AM)</option>
                    <option value="whole">Whole Day Stay (3:00PM - 12:00NN)</option>
                </select>
                
                <div id="totalAmountContainer" class="total-amount">
                    Total: <span id="totalAmount">P0.00</span>
                </div>
            </div>

            <div class="payment-group">
                <h3>Payment Details</h3>
                <select id="paymentMethod">
                    <option value="">Select Payment Method</option>
                    <option value="gcash">GCash</option>
                    <option value="paymaya">PayMaya</option>
                </select>
                <input type="text" id="accountNumber" placeholder="Account/Number">
            </div>

            <button onclick="confirmPayment()" class="accent-btn">Confirm Payment</button>
        </div>
    </div>

    <div id="receiptModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('receiptModal')">&times;</span>
            <h2 class="modal-header">Booking Receipt</h2>
            <div id="receiptDetails"></div>
        </div>
    </div>

    <div id="guestModal" class="modal">
        <div class="modal-content guest-modal-content">
            <span class="close" onclick="closeModal('guestModal')">&times;</span>
            <h2 class="modal-header">Guests</h2>
            
            <p id="guestPaxNote" style="font-size: 13px; color: #ffeb3b; margin-top: -10px; margin-bottom: 20px; text-align: center;">
                12 Maximum Pax, add P300 to add up to 15 Pax.
            </p>
            <div class="guest-counter">
                <label for="adults">Adults (Ages 13 or above)</label>
                <div class="counter-controls">
                    <button class="count-btn" data-type="adults" data-action="minus" disabled>—</button>
                    <span id="adultsCount" class="count-value">1</span>
                    <button class="count-btn" data-type="adults" data-action="plus">+</button>
                </div>
            </div>

            <div class="guest-counter">
                <label for="children">Children (Ages 0-12)</label>
                <div class="counter-controls">
                    <button class="count-btn" data-type="children" data-action="minus" disabled>—</button>
                    <span id="childrenCount" class="count-value">0</span>
                    <button class="count-btn" data-type="children" data-action="plus">+</button>
                </div>
            </div>

            <button onclick="closeModal('guestModal')" class="accent-btn done-btn">DONE</button>
        </div>
    </div>

<!-- Firebase SDKs - MUST be in this order -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

<!-- Your Firebase Config -->
<script src="firebase-config.js"></script>

<!-- Your other scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
// Firebase configuration for Everpeak Nature Camp
const firebaseConfig = {
    apiKey: "AIzaSyAvvhMpf_WitusAfR-sqI8pMLIAPqygOOY",
    authDomain: "everpeak-df533.firebaseapp.com",
    projectId: "everpeak-df533",
    storageBucket: "everpeak-df533.firebasestorage.app",
    messagingSenderId: "314009845647",
    appId: "1:314009845647:web:60381fba9cbecb51c395fa",
    measurementId: "G-0XEXF5JSZ8"
};

// Initialize Firebase
const app = firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// Export Firebase services
window.firebase = firebase;
window.auth = auth;
window.db = db;

console.log("Firebase initialized successfully");
</script>
</body>
</html>

